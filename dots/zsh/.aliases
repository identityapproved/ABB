alias zshconfig="nvim ~/.zshrc"
alias aliasconfig="nvim ~/.aliases"
alias aliases="bat ~/.aliases"
alias tmuxconfig="nvim ~/.config/tmux/tmux.conf"
alias pushclip="tmux save-buffer ~/clipboard.txt"

alias q="exit"
alias rf="rm -rf"
alias c="clear"
alias l='ls -lart'
alias ..='cd ..'
alias ...='cd ../../'
alias ....='cd ../../../'
alias .....='cd ../../../../'

alias fman="compgen -c | fzf --height 40% --layout reverse --border --no-preview |  xargs man"
alias ftldr="compgen -c | fzf --height 40% --layout reverse --border --no-preview |  xargs tldr"

alias fcd="cd ~ && cd \$(fzf | sed 's/\/[^\/]*$//')"

alias v='nvim' # default Neovim config
alias fv="nvim \$(fzf)"
alias em="emacsclient -c -a 'emacs'"
alias dmt="doom run -nw"

alias yz='yazi'
alias lz='lazygit'

alias rmpkg="sudo pacman -Rsn"
alias cleanch="sudo pacman -Scc"
alias fixpacman="sudo rm /var/lib/pacman/db.lck"

alias make="make -j`nproc`"
alias ninja="ninja -j`nproc`"
alias n="ninja"

alias tb="nc termbin.com 9999"

# Get the error messages from journalctl
alias jctl="journalctl -p 3 -xb"

# Recent installed packages
alias rip="expac --timefmt='%Y-%m-%d %T' '%l\t%n %v' | sort | tail -200 | nl"

# WireGuard profile picker
wgup() {
  local list="$HOME/wireguard-profiles.txt"
  if [[ ! -r "${list}" ]]; then
    echo "WireGuard profile list not found at ${list}" >&2
    return 1
  fi
  if ! command -v fzf >/dev/null 2>&1; then
    echo "fzf is required for wgup; install it first." >&2
    return 1
  fi
  local profile
  profile=$(grep -v '^[[:space:]]*$' "${list}" | fzf --prompt="Select WireGuard profile> " --height=40%) || return 1
  sudo wg-quick up "${profile}"
}

# Connect to a random OpenVPN config (runs in background)
alias openvpnconnect='sudo openvpn --daemon --config "$(find /opt/openvpn-configs -maxdepth 1 -type f -name '\''*.ovpn'\'' | shuf -n 1)" --auth-user-pass /opt/openvpn-configs/credentials.txt'

# Disconnect (kill all openvpn processes)
alias openvpndisconnect='sudo killall openvpn'

# Rotate: kill current OpenVPN and start a new random one (also daemonized)
alias openvpnrotate='sudo killall openvpn; sudo openvpn --daemon --config "$(find /opt/openvpn-configs -maxdepth 1 -type f -name '\''*.ovpn'\'' | shuf -n 1)" --auth-user-pass /opt/openvpn-configs/credentials.txt'
